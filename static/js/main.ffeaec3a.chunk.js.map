{"version":3,"sources":["components/Menu.js","components/Navigation.js","components/Messages.js","components/Feedback.js","scripts/environment.js","components/LoginForm.js","components/Login.js","scripts/setEmojis.js","components/EmojiSelector.js","components/MessageForm.js","components/MessageToolbar.js","components/Channel.js","components/Preferences.js","components/Routes.js","components/App.js","scripts/serviceWorker.js","index.js"],"names":["LinkLabel","title","icon","className","src","alt","Menu","context","useContext","AppContext","onClick","config","hideMenu","to","pathname","state","authenticated","undefined","auth","signOut","BackBtn","redirectBack","width","height","viewBox","fill","xmlns","x1","y1","x2","y2","stroke","strokeWidth","strokeLinecap","transform","MenuBtn","showMenu","Navigation","useLocation","menu","console","log","Received","handle","message","Forwarded","Error","error","Messages","content","socketId","messagesEndRef","useRef","previousHandle","messages","map","index","id","showLabel","key","useEffect","current","scrollIntoView","behavior","ref","Feedback","feedback","HOST","SOCKET_HOST","API","LOGIN","LoginForm","handleError","useState","setHandle","password","setPassword","setValues","event","target","name","value","ERROR","onSubmit","a","preventDefault","form","focus","options","body","method","headers","JSON","stringify","fetch","Env","response","json","signIn","placeholder","autoFocus","onChange","type","MESSAGES","feedbackDelay","responseDelay","Login","setFeedback","messageIndex","setMessageIndex","setMessages","responseInterval","setTimeout","length","messageEffect","feedbackInterval","clearInterval","emojiCodes","Object","keys","emojis","code","regex","RegExp","join","replace","str","match","category","xD","xP","EmojiSelector","appendEmoji","emojiKeys","MessageForm","showEmojis","setMessage","transformedMessage","setEmojis","socket","emit","onKeyPress","keyCode","window","shiftKey","onTyping","emoji","MessageToolbar","toggleEmojis","Channel","setShowEmojis","on","off","data","ThemeSelector","handleTheme","dark","light","system","Preferences","Routes","authenticate","component","path","children","exact","createContext","App","setAuthentication","setMenu","setSocket","history","setHistory","palette","theme","setTheme","appContext","io","env","query","disconnect","matchMedia","matches","location","addToHistory","route","getPreviousRoute","pop","user","Provider","Boolean","hostname","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"uNAkCMA,G,MAAY,SAAC,GAAD,IAAGC,EAAH,EAAGA,MAAOC,EAAV,EAAUA,KAAV,OACjB,yBAAKC,UAAU,cACd,+BAAQF,GACR,yBAAKG,IAAKF,EAAMG,IAAG,UAAKJ,EAAL,cAINK,EAhCF,WACZ,IAAMC,EAAUC,qBAAWC,GAE3B,OACC,yBAAKN,UAAU,oBACd,yBAAKA,UAAU,oBACd,4BAAQO,QAAS,kBAAMH,EAAQI,OAAOC,aAAtC,SAGD,oCACA,yBAAKT,UAAU,eACd,kBAAC,IAAD,CAAMU,GAAI,CAAEC,SAAU,IAAKC,MAAO,CAAEC,eAAe,IAAUN,QAAS,kBAAMH,EAAQI,OAAOC,aAC1F,kBAAC,EAAD,CAAWX,MAAM,OAAOC,UAAMe,KAE/B,kBAAC,IAAD,CAAMJ,GAAI,eAAgBH,QAAS,kBAAMH,EAAQI,OAAOC,aACvD,kBAAC,EAAD,CAAWX,MAAM,cAAcC,UAAMe,KAEtC,kBAAC,IAAD,CAAMJ,GAAI,SAAUH,QAAS,kBAAMH,EAAQW,KAAKC,YAC/C,kBAAC,EAAD,CAAWlB,MAAM,WAAWC,UAAMe,QCIjCG,EAAU,SAAC,GAAD,IAAGC,EAAH,EAAGA,aAAH,OACf,yBACCC,MAAM,KACNC,OAAO,KACPC,QAAQ,cACRC,KAAK,OACLC,MAAM,6BACNhB,QAAS,kBAAMW,MAEf,0BAAMM,GAAG,MAAMC,GAAG,UAAUC,GAAG,UAAUC,GAAG,KAAKC,OAAO,UAAUC,YAAY,KAAKC,cAAc,UACjG,0BAAMN,GAAG,KAAKC,GAAG,UAAUC,GAAG,UAAUC,GAAG,KAAKC,OAAO,UAAUC,YAAY,KAAKC,cAAc,UAChG,0BACCN,GAAG,KACHC,GAAG,MACHC,GAAG,UACHC,GAAG,MACHI,UAAU,uDACVH,OAAO,UACPC,YAAY,KACZC,cAAc,UAEf,0BACCN,GAAG,KACHC,GAAG,MACHC,GAAG,UACHC,GAAG,MACHI,UAAU,sDACVH,OAAO,UACPC,YAAY,KACZC,cAAc,YAKXE,EAAU,SAAC,GAAD,IAAGC,EAAH,EAAGA,SAAH,OACf,yBACCd,MAAM,KACNC,OAAO,KACPC,QAAQ,cACRC,KAAK,OACLC,MAAM,6BACNhB,QAAS,kBAAM0B,MAEf,0BAAMT,GAAG,KAAKC,GAAG,KAAKC,GAAG,MAAMC,GAAG,KAAKC,OAAO,UAAUC,YAAY,KAAKC,cAAc,UACvF,0BAAMN,GAAG,KAAKC,GAAG,MAAMC,GAAG,MAAMC,GAAG,MAAMC,OAAO,UAAUC,YAAY,KAAKC,cAAc,YAI5EI,EAnEI,WAClB,IAAM9B,EAAUC,qBAAWC,GAE3B,GAA+B,WAA3B6B,cAAcxB,SACjB,OAAO,yBAAKX,UAAU,oBAKvB,OAAII,EAAQI,OAAO4B,KAAa,kBAAC,EAAD,MAG/B,yBAAKpC,UAAU,mBACd,kBAAC,EAAD,CAASkB,aANU,kBAAMmB,QAAQC,IAAI,oBAOrC,kBAAC,EAAD,CAASL,SAAU,kBAAM7B,EAAQI,OAAOyB,gBCGrCM,G,YAAW,SAAC,GAAD,IAAGC,EAAH,EAAGA,OAAQC,EAAX,EAAWA,QAAX,OAChB,yBAAKzC,UAAU,oCACbwC,GAAU,4BAAKA,GAChB,6BAAMC,MAIFC,EAAY,SAAC,GAAD,IAAGD,EAAH,EAAGA,QAAH,OACjB,yBAAKzC,UAAU,qCACd,6BAAMyC,KAIFE,EAAQ,SAAC,GAAD,IAAGC,EAAH,EAAGA,MAAOH,EAAV,EAAUA,QAAV,OACb,yBAAKzC,UAAU,iCACb4C,GAAS,4BAAKA,GACf,6BAAMH,KAIOI,EA9CE,SAAC,GAA2B,IAAzBC,EAAwB,EAAxBA,QAASC,EAAe,EAAfA,SACtBC,EAAiBC,iBAAO,MAE1BC,EAAiB,GAEfC,EAAWL,EAAQM,KAAI,WAAiCC,GAAW,IAAzCb,EAAwC,EAAxCA,OAAQC,EAAgC,EAAhCA,QAASa,EAAuB,EAAvBA,GAAIV,EAAmB,EAAnBA,MAC9CW,IAAcf,IAAWU,GAAkBN,IAAUM,GAG3D,OAFAA,EAAiBN,GAASJ,EAEtBI,EAAc,kBAAC,EAAD,CAAOY,IAAKH,EAAOZ,QAASA,EAASG,MAAOW,EAAYX,OAAQ9B,IAC9EiC,IAAaO,EAAW,kBAAC,EAAD,CAAWE,IAAKH,EAAOZ,QAASA,IAChD,kBAAC,EAAD,CAAUe,IAAKH,EAAOb,OAAQe,EAAYf,OAAS1B,EAAW2B,QAASA,OAOpF,OAJAgB,qBAAU,WACTT,EAAeU,QAAQC,eAAe,CAAEC,SAAU,aAChD,CAACd,IAGH,yBAAK9C,UAAU,eACd,yBAAKA,UAAU,uBAAuBmD,GACtC,yBAAKU,IAAKb,MChBEc,G,MALE,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SACnB,OAAIA,EAAiB,0BAAM/D,UAAU,6BAA6B+D,EAA7C,2BACT,0BAAM/D,UAAU,gC,yBCLvBgE,EAAO,wBAEE,GAAEC,YAAaD,EAAME,IAAK,CAAEC,MAAM,GAAD,OAAKH,EAAL,mBC0EjCI,EAjEG,SAAC,GAAqB,IAAnBC,EAAkB,EAAlBA,YAAkB,EACVC,mBAAS,IADC,mBAC/B9B,EAD+B,KACvB+B,EADuB,OAEND,mBAAS,IAFH,mBAE/BE,EAF+B,KAErBC,EAFqB,KAIhCrE,EAAUC,qBAAWC,GAErBoE,EAAY,SAACC,GACQ,WAAtBA,EAAMC,OAAOC,KAAmBN,EAAUI,EAAMC,OAAOE,OAC5B,aAAtBH,EAAMC,OAAOC,MAAqBJ,EAAYE,EAAMC,OAAOE,QAG/DC,EACW,CAAEnC,MAAO,uBAAwBH,QAAS,4CADrDsC,EAEE,CAAEnC,MAAO,cAAeH,QAAS,sCAKnCuC,EAAQ,uCAAG,WAAOL,GAAP,mBAAAM,EAAA,yDAChBN,EAAMO,iBAED1C,GAAWgC,GAAUH,EAAYU,IAElCvC,GAAWgC,EALC,yCAKgBG,EAAMC,OAAOO,KAAKX,SAASY,SAL3C,UAMN5C,IAAUgC,EANJ,yCAMqBG,EAAMC,OAAOO,KAAK3C,OAAO4C,SAN9C,cAQVC,EAAU,SAACC,GAAD,MAAW,CAC1BC,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BF,KAAMG,KAAKC,UAAUJ,KAXN,UAcOK,MAAMC,EAAI1B,IAAIC,MAAOkB,EAAQ,CAAE7C,SAAQgC,cAd9C,eAcVqB,EAdU,iBAeGA,EAASC,OAfZ,aAeVA,EAfU,QAiBPlD,MAjBO,0CAiBOyB,EAAYU,IAjBnB,QAkBX3E,EAAQW,KAAKgF,OAAOD,EAAKtD,QAlBd,4CAAH,sDAqBd,OAAIpC,EAAQW,KAAKF,cAAsB,kBAAC,IAAD,CAAUH,GAAG,MAGnD,0BAAMV,UAAU,eACf,2BACCA,UAAU,gBACVgG,YAAY,SACZnB,KAAK,SACLoB,WAAS,EACTC,SAAU,SAACvB,GAAD,OAAWD,EAAUC,MAGhC,2BACC3E,UAAU,kBACVgG,YAAY,WACZG,KAAK,WACLtB,KAAK,WACLqB,SAAU,SAACvB,GAAD,OAAWD,EAAUC,IAC/BG,MAAON,IAGR,2BAAOxE,UAAU,gBAAgBmG,KAAK,SAASrB,MAAM,SAAIvE,QAAS,SAACoE,GAAD,OAAWK,EAASL,QCNnFyB,EAAW,CAChB,CACC3D,QAAQ,+CACR4D,cAAe,KACfC,cAAe,KAEhB,CACC7D,QAAQ,mGAER4D,cAAe,KACfC,cAAe,KAEhB,CACC7D,QAAQ,gEACR4D,cAAe,KACfC,cAAe,KAEhB,CACC7D,QAAQ,wBACR4D,cAAe,IACfC,cAAe,MAIFC,EAjFD,WAAO,IAAD,EACajC,mBAAS,IADtB,mBACZP,EADY,KACFyC,EADE,OAEqBlC,mBAAS,GAF9B,mBAEZmC,EAFY,KAEEC,EAFF,OAGapC,mBAAS,CACxC,CAAE9B,OAAQ,WAAYC,QAAS,yBAA0Ba,GAAI,cAJ3C,mBAGZH,EAHY,KAGFwD,EAHE,KA+CnB,OAVAlD,qBAAU,WAAO,IAAD,EA1BM,WACrB,IAMImD,EANEnE,EAAU2D,EAASK,GAAchE,QACjC4D,EAAgBD,EAASK,GAAcJ,cACvCC,EAAgBF,EAASK,GAAcH,cAoB7C,MAAO,CAdYO,YAAW,WAE7BL,EAAY,YAGZI,EAAmBC,YAAW,WAC7BF,GAAY,SAACxD,GAAD,4BAAkBA,GAAlB,CAA4B,CAAEV,UAASD,OAAQ,WAAYc,GAAI,iBAC3EkD,EAAY,MACVF,GAGHI,EAAgBD,IAAiBL,EAASU,OAAS,EAAI,EAAIL,EAAe,KACxEJ,GAEuBO,GAImBG,GAD9B,mBACRC,EADQ,KACUJ,EADV,KAIf,OAAO,WACNK,cAAcD,GACdC,cAAcL,OAKf,yBAAK5G,UAAU,SACd,wCACA,kBAAC,EAAD,CAAU8C,QAASK,IACnB,kBAAC,EAAD,CAAUY,SAAUA,IACpB,kBAAC,EAAD,CAAWM,YA7CO,SAACzB,GACpB+D,GAAY,SAACxD,GAAD,4BAAkBA,GAAlB,CAA4BP,YChB3B,G,YAAA,SAACH,GACf,IAAMyE,EAAaC,OAAOC,KAAKC,GAAQjE,KAAI,SAACwB,GAAD,OAAYyC,EAAOzC,GAAQ0C,QAChEC,EAAQ,IAAIC,OAAJ,aAAiBN,EAAWO,KAAK,OAAjC,KAA4C,KAE1D,OAAOhF,EAAQiF,QAAQH,GAAO,SAACI,EAAKC,GACnC,OAAOP,EAAOO,GAAO7H,UAIjBsH,EAAS,CAEd,KAAM,CAAEC,KAAM,OAAQvH,KAAM,eAAM8H,SAAU,UAC5C,KAAM,CAAEP,KAAM,KAAMvH,KAAM,eAAM8H,SAAU,UAC1CC,GAAI,CAAER,KAAM,KAAMvH,KAAM,eAAM8H,SAAU,UACxC,KAAM,CAAEP,KAAM,OAAQvH,KAAM,eAAM8H,SAAU,UAC5C,KAAM,CAAEP,KAAM,OAAQvH,KAAM,eAAM8H,SAAU,UAC5C,KAAM,CAAEP,KAAM,KAAMvH,KAAM,eAAM8H,SAAU,UAC1C,KAAM,CAAEP,KAAM,KAAMvH,KAAM,eAAM8H,SAAU,UAC1C,KAAM,CAAEP,KAAM,KAAMvH,KAAM,eAAM8H,SAAU,UAC1C,KAAM,CAAEP,KAAM,KAAMvH,KAAM,eAAM8H,SAAU,UAC1C,KAAM,CAAEP,KAAM,KAAMvH,KAAM,eAAM8H,SAAU,UAC1C,KAAM,CAAEP,KAAM,KAAMvH,KAAM,eAAM8H,SAAU,UAC1C,KAAM,CAAEP,KAAM,KAAMvH,KAAM,eAAM8H,SAAU,UAC1CE,GAAI,CAAET,KAAM,KAAMvH,KAAM,eAAM8H,SAAU,UACxC,KAAM,CAAEP,KAAM,OAAQvH,KAAM,eAAM8H,SAAU,UAG5C,SAAU,CAAEP,KAAM,SAAUvH,KAAM,eAAM8H,SAAU,YAClD,YAAa,CAAEP,KAAM,YAAavH,KAAM,eAAM8H,SAAU,YACxD,SAAU,CAAEP,KAAM,SAAUvH,KAAM,eAAM8H,SAAU,YAClD,SAAU,CAAEP,KAAM,SAAUvH,KAAM,eAAM8H,SAAU,YAGlD,UAAW,CAAEP,KAAM,UAAWvH,KAAM,eAAM8H,SAAU,WACpD,UAAW,CAAEP,KAAM,UAAWvH,KAAM,eAAM8H,SAAU,WACpD,SAAU,CAAEP,KAAM,SAAUvH,KAAM,eAAM8H,SAAU,WAClD,YAAa,CAAEP,KAAM,YAAavH,KAAM,eAAM8H,SAAU,WACxD,UAAW,CAAEP,KAAM,UAAWvH,KAAM,eAAM8H,SAAU,QCbtCG,EAjBO,SAAC,GAAqB,IAAnBC,EAAkB,EAAlBA,YAClBC,EAAYf,OAAOC,KAAKC,GAE9B,OACC,yBAAKrH,UAAU,uBACd,yBAAKA,UAAU,8BACbkI,EAAU9E,KAAI,SAACI,GAAD,OACd,yBAAKxD,UAAU,wBAAwBwD,IAAKA,EAAKjD,QAAS,kBAAM0H,EAAYZ,EAAO7D,GAAKzD,QACvF,0BAAMC,UAAU,eAAeqH,EAAO7D,GAAKzD,MAC3C,0BAAMC,UAAU,eAAewD,UC4CtB2E,EAjDK,SAAC,GAAoB,IAAlBC,EAAiB,EAAjBA,WAAiB,EACT9D,mBAAS,IADA,mBAChC7B,EADgC,KACvB4F,EADuB,KAEjCjI,EAAUC,qBAAWC,GAErB0E,EAAW,SAACL,GAEjB,GADAA,EAAMO,iBACDzC,EAAL,CAEA,IAAM6F,EAAqBC,EAAU9F,GACrCrC,EAAQoI,OAAOC,KAAK,OAAQ,CAC3BhG,QAAS6F,EACT9F,OAAQpC,EAAQW,KAAKyB,OACrBc,GAAIlD,EAAQoI,OAAOlF,KAEpB+E,EAAW,MAgBZ,OACC,0BAAMrI,UAAU,cACf,yBAAKA,UAAU,uBACd,8BACCA,UAAU,sBACVgG,YAAW,yCACXnB,KAAK,UACLqB,SAAU,SAACvB,GAAD,OAAW0D,EAAW1D,EAAMC,OAAOE,QAC7C4D,WAAY,SAAC/D,GAAD,OArBC,SAACA,GACjB0D,EAAWE,EAAU9F,IACrB,IAAMkG,EAAUC,OAAOjE,MAAMgE,QAE7B,GAAgB,KAAZA,GAAkBhE,EAAMkE,SAAUR,EAAW5F,QAC5C,GAAgB,KAAZkG,EAAgB,OAAO3D,EAASL,GACzCvE,EAAQoI,OAAOC,KAAK,SAAUrI,EAAQW,KAAKyB,QAejBsG,CAASnE,IAChCG,MAAOrC,EACPwD,WAAS,IAEV,2BAAOjG,UAAU,qBAAqBmG,KAAK,SAASrB,MAAM,OAAOvE,QAAS,SAACoE,GAAD,OAAWK,EAASL,OAE9FyD,GAAc,kBAAC,EAAD,CAAeH,YAlBZ,SAACc,GACpBV,GAAW,SAAC5F,GAAD,OAAaA,EAAUsG,UClBrBC,G,MAdQ,SAAC,GAAgC,IAA9BjF,EAA6B,EAA7BA,SAAUkF,EAAmB,EAAnBA,aAGnC,OACC,yBAAKjJ,UAAU,4BACd,yBAAKA,UAAU,4BACd,2BAAOO,QAAS,kBALS8B,QAAQC,IAAI,mBAKEwC,MAAM,MAAMqB,KAAK,WACxD,2BAAO5F,QAAS,kBAAM0I,KAAgBnE,MAAM,KAAKqB,KAAK,YAEvD,kBAAC,EAAD,CAAUpC,SAAUA,OCgCRmF,EApCC,WAAO,IAAD,EACW5E,mBAAS,IADpB,mBACdnB,EADc,KACJwD,EADI,OAEWrC,mBAAS,IAFpB,mBAEdP,EAFc,KAEJyC,EAFI,OAGelC,oBAAS,GAHxB,mBAGd8D,EAHc,KAGFe,EAHE,KAKf/I,EAAUC,qBAAWC,GAE3BmD,qBAAU,WAET,OADArD,EAAQoI,OAAOY,GAAG,QAAQ,SAAC3G,GAAD,OAAakE,GAAY,SAACxD,GAAD,4BAAkBA,GAAlB,CAA4BV,UACxE,kBAAMrC,EAAQoI,OAAOa,IAAI,OAAQhH,QAAQC,IAAI,qBAClD,CAAClC,EAAQoI,SAEZ/E,qBAAU,WACTrD,EAAQoI,OAAOY,GAAG,UAAU,SAACE,GAC5B9C,EAAY8C,GAEZzC,YAAW,WACVL,OAAY1F,KACV,UAEF,CAACV,EAAQoI,SAIZ,OAAKpI,EAAQoI,OAGZ,yBAAKxI,UAAU,WACd,4CACA,kBAAC,EAAD,CAAU8C,QAASK,EAAUJ,SAAU3C,EAAQoI,OAAOlF,KACtD,kBAAC,EAAD,CAAgBS,SAAUA,EAAUkF,aARjB,kBAAME,GAAc,SAACvI,GAAD,OAAYA,QASnD,kBAAC,EAAD,CAAawH,WAAYA,KAPC,2CCtBvBmB,G,MAAgB,WAAO,IACpB/I,EAAWH,qBAAWC,GAAtBE,OAER,OACC,yBAAKR,UAAU,+BACd,8CACA,4BAAQO,QAAS,kBAAMC,EAAOgJ,cAAcC,SAA5C,QACA,4BAAQlJ,QAAS,kBAAMC,EAAOgJ,cAAcE,UAA5C,SACA,4BAAQnJ,QAAS,kBAAMC,EAAOgJ,cAAcG,WAA5C,aAKYC,EApBK,kBACnB,yBAAK5J,UAAU,oBACd,2CACA,kBAAC,EAAD,QCgBa6J,EAfA,SAAC,GAAuB,IAArBhJ,EAAoB,EAApBA,cACXiJ,EAAe,SAACC,GACrB,OAAOlJ,EAAgBkJ,EAAY,kBAAC,IAAD,CAAUrJ,GAAG,YAGjD,OACC,kBAAC,IAAD,KACC,kBAAC,IAAD,CAAOsJ,KAAK,SAASC,SAAU,kBAAC,EAAD,QAC/B,kBAAC,IAAD,CAAOC,OAAK,EAACF,KAAK,IAAIC,SAAUH,EAAa,kBAAC,EAAD,SAC7C,kBAAC,IAAD,CAAOE,KAAK,eAAeC,SAAUH,EAAa,kBAAC,EAAD,SAClD,kBAAC,IAAD,CAAOE,KAAK,IAAIC,SAAUH,EAAa,0CCiE7BxJ,EAAa6J,0BACXC,EAxEH,WAAO,IAAD,EAC0B9F,oBAAS,GADnC,mBACVzD,EADU,KACKwJ,EADL,OAEW/F,mBAAS,IAFpB,mBAEV9B,EAFU,KAEF+B,EAFE,OAGOD,oBAAS,GAHhB,mBAGVlC,EAHU,KAGJkI,EAHI,OAIWhG,mBAAS,MAJpB,mBAIVkE,EAJU,KAIF+B,EAJE,OAKajG,mBAAS,IALtB,mBAKVkG,EALU,KAKDC,EALC,OAMSnG,mBAAS,CAAEoG,QAAS,OAAQ7F,KAAM,cAN3C,mBAMV8F,EANU,KAMHC,EANG,KAkDXC,EAAa,CAClB9J,KAAM,CAAEF,gBAAekF,OA7BT,SAACvD,GACf+H,EACCO,IAAGC,EAAI9G,YAAa,CACnB+G,MAAO,CAAExI,aAGX+B,EAAU/B,GACV6H,GAAkB,IAsBarJ,QAnBhB,WACfuJ,GAAU,SAAC/B,GAAD,OAAYA,EAAOyC,gBAC7BX,GAAQ,GACR/F,EAAU,MACV8F,GAAkB,IAesB7H,UACxChC,OAAQ,CAAEmK,QAAOnB,YApCE,iBAAO,CAC1BC,KAAM,kBAAMmB,EAAS,CAAEF,QAAS,OAAQ7F,KAAM,eAC9C6E,MAAO,kBAAMkB,EAAS,CAAEF,QAAS,QAAS7F,KAAM,gBAChD8E,OAAQ,kBAAMiB,EAVVhC,OAAOsC,WACNtC,OAAOsC,WAAW,gCAAgCC,QAC9C,CAAET,QAAS,OAAQ7F,KAAM,eACnB,CAAE6F,QAAS,QAAS7F,KAAM,gBAC3B8F,MAuCgBvI,OAAMH,SAbpB,kBAAMqI,GAAQ,IAagB7J,SAZ9B,kBAAM6J,GAAQ,KAa9Bc,SAAU,CAAEZ,UAASa,aAXD,SAACC,GACrBb,GAAW,SAACD,GAAD,4BAAiBA,GAAjB,CAA0Bc,QAUFC,iBAPX,WACxB,OAAOf,EAAQgB,QAOfC,KAAM,CAAEjJ,UACRgG,UAGD,OACC,kBAAClI,EAAWoL,SAAZ,CAAqB5G,MAAO+F,GAC3B,yBAAK7K,UAAS,oBAAe2K,EAAMD,UAClC,kBAAC,IAAD,KACC,kBAAC,EAAD,MACA,kBAAC,EAAD,CAAQ7J,cAAeA,QCjER8K,QACW,cAA7B/C,OAAOwC,SAASQ,UAEe,UAA7BhD,OAAOwC,SAASQ,UAEhBhD,OAAOwC,SAASQ,SAAShE,MACvB,2DCZNiE,IAASC,OACR,kBAAC,IAAMC,WAAP,KACC,kBAAC,EAAD,OAEDC,SAASC,eAAe,SDyHnB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBC,MAAK,SAAAC,GACJA,EAAaC,gBAEdC,OAAM,SAAA5J,GACLP,QAAQO,MAAMA,EAAMH,a","file":"static/js/main.ffeaec3a.chunk.js","sourcesContent":["import React, { useContext } from 'react';\nimport '../sass/Menu.scss';\n\n// libraries\nimport { Link } from 'react-router-dom';\n\n// context\nimport { AppContext } from './App';\n\nconst Menu = () => {\n\tconst context = useContext(AppContext);\n\n\treturn (\n\t\t<div className=\"navigation__menu\">\n\t\t\t<div className=\"menu__navigation\">\n\t\t\t\t<button onClick={() => context.config.hideMenu()}>Hide</button>\n\t\t\t</div>\n\n\t\t\t<h2>menu</h2>\n\t\t\t<div className=\"menu__links\">\n\t\t\t\t<Link to={{ pathname: '/', state: { authenticated: true } }} onClick={() => context.config.hideMenu()}>\n\t\t\t\t\t<LinkLabel title=\"Chat\" icon={undefined} />\n\t\t\t\t</Link>\n\t\t\t\t<Link to={'/preferences'} onClick={() => context.config.hideMenu()}>\n\t\t\t\t\t<LinkLabel title=\"Preferences\" icon={undefined} />\n\t\t\t\t</Link>\n\t\t\t\t<Link to={'/login'} onClick={() => context.auth.signOut()}>\n\t\t\t\t\t<LinkLabel title=\"Sign out\" icon={undefined} />\n\t\t\t\t</Link>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nconst LinkLabel = ({ title, icon }) => (\n\t<div className=\"menu__link\">\n\t\t<label>{title}</label>\n\t\t<img src={icon} alt={`${title} icon`} />\n\t</div>\n);\n\nexport default Menu;\n","import React, { useContext } from 'react';\nimport '../sass/Navigation.scss';\n\n// libraries\nimport { useLocation } from 'react-router-dom';\n\n//components\nimport Menu from './Menu';\n\n// context\nimport { AppContext } from './App';\n\nconst Navigation = () => {\n\tconst context = useContext(AppContext);\n\n\tif (useLocation().pathname === '/login') {\n\t\treturn <div className=\"app__navigation\" />;\n\t}\n\n\tconst redirectBack = () => console.log('redirect back');\n\n\tif (context.config.menu) return <Menu />;\n\n\treturn (\n\t\t<div className=\"app__navigation\">\n\t\t\t<BackBtn redirectBack={redirectBack} />\n\t\t\t<MenuBtn showMenu={() => context.config.showMenu()} />\n\t\t</div>\n\t);\n};\n\nconst BackBtn = ({ redirectBack }) => (\n\t<svg\n\t\twidth=\"20\"\n\t\theight=\"20\"\n\t\tviewBox=\"0 0 260 260\"\n\t\tfill=\"none\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\tonClick={() => redirectBack()}\n\t>\n\t\t<line x1=\"139\" y1=\"129.787\" x2=\"227.787\" y2=\"41\" stroke=\"#D7E0E9\" strokeWidth=\"30\" strokeLinecap=\"round\" />\n\t\t<line x1=\"29\" y1=\"129.787\" x2=\"117.787\" y2=\"41\" stroke=\"#D7E0E9\" strokeWidth=\"30\" strokeLinecap=\"round\" />\n\t\t<line\n\t\t\tx1=\"15\"\n\t\t\ty1=\"-15\"\n\t\t\tx2=\"140.563\"\n\t\t\ty2=\"-15\"\n\t\t\ttransform=\"matrix(0.707107 0.707107 0.707107 -0.707107 139 110)\"\n\t\t\tstroke=\"#D7E0E9\"\n\t\t\tstrokeWidth=\"30\"\n\t\t\tstrokeLinecap=\"round\"\n\t\t/>\n\t\t<line\n\t\t\tx1=\"15\"\n\t\t\ty1=\"-15\"\n\t\t\tx2=\"140.563\"\n\t\t\ty2=\"-15\"\n\t\t\ttransform=\"matrix(0.707107 0.707107 0.707107 -0.707107 29 110)\"\n\t\t\tstroke=\"#D7E0E9\"\n\t\t\tstrokeWidth=\"30\"\n\t\t\tstrokeLinecap=\"round\"\n\t\t/>\n\t</svg>\n);\n\nconst MenuBtn = ({ showMenu }) => (\n\t<svg\n\t\twidth=\"20\"\n\t\theight=\"20\"\n\t\tviewBox=\"0 0 260 260\"\n\t\tfill=\"none\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\tonClick={() => showMenu()}\n\t>\n\t\t<line x1=\"20\" y1=\"85\" x2=\"240\" y2=\"85\" stroke=\"#D7E0E9\" strokeWidth=\"30\" strokeLinecap=\"round\" />\n\t\t<line x1=\"70\" y1=\"185\" x2=\"240\" y2=\"185\" stroke=\"#D7E0E9\" strokeWidth=\"30\" strokeLinecap=\"round\" />\n\t</svg>\n);\n\nexport default Navigation;\n","import React, { useEffect, useRef } from 'react';\nimport '../sass/Messages.scss';\n\nconst Messages = ({ content, socketId }) => {\n\tconst messagesEndRef = useRef(null);\n\n\tlet previousHandle = '';\n\n\tconst messages = content.map(({ handle, message, id, error }, index) => {\n\t\tconst showLabel = !(handle === previousHandle || error === previousHandle);\n\t\tpreviousHandle = error || handle;\n\n\t\tif (error) return <Error key={index} message={message} error={showLabel ? error : undefined} />;\n\t\tif (socketId === id) return <Forwarded key={index} message={message} />;\n\t\telse return <Received key={index} handle={showLabel ? handle : undefined} message={message} />;\n\t});\n\n\tuseEffect(() => {\n\t\tmessagesEndRef.current.scrollIntoView({ behavior: 'smooth' });\n\t}, [content]);\n\n\treturn (\n\t\t<div className=\"chat-window\">\n\t\t\t<div className=\"chat-window__output\">{messages}</div>\n\t\t\t<div ref={messagesEndRef} />\n\t\t</div>\n\t);\n};\n\nconst Received = ({ handle, message }) => (\n\t<div className=\"output__message received-message\">\n\t\t{handle && <h2>{handle}</h2>}\n\t\t<pre>{message}</pre>\n\t</div>\n);\n\nconst Forwarded = ({ message }) => (\n\t<div className=\"output__message forwarded-message\">\n\t\t<pre>{message}</pre>\n\t</div>\n);\n\nconst Error = ({ error, message }) => (\n\t<div className=\"output__message error-message\">\n\t\t{error && <h2>{error}</h2>}\n\t\t<pre>{message}</pre>\n\t</div>\n);\n\nexport default Messages;\n","import React from 'react';\nimport '../sass/Feedback.scss';\n\nconst Feedback = ({ feedback }) => {\n\tif (feedback) return <span className=\"message-toolbar__feedback\">{feedback} is typing a message...</span>;\n\telse return <span className=\"message-toolbar__feedback\"></span>;\n};\n\nexport default Feedback;\n","const HOST = 'http://localhost:4000';\n\nexport default { SOCKET_HOST: HOST, API: { LOGIN: `${HOST}/authenticate` } };\n","import React, { useState, useContext } from 'react';\n\n// libraries\nimport { Redirect } from 'react-router-dom';\n\n// scripts\nimport Env from '../scripts/environment';\n\n// context\nimport { AppContext } from './App';\n\nconst LoginForm = ({ handleError }) => {\n\tconst [handle, setHandle] = useState('');\n\tconst [password, setPassword] = useState('');\n\n\tconst context = useContext(AppContext);\n\n\tconst setValues = (event) => {\n\t\tif (event.target.name === 'handle') setHandle(event.target.value);\n\t\telse if (event.target.name === 'password') setPassword(event.target.value);\n\t};\n\n\tconst ERROR = {\n\t\tauthentication: { error: 'Authentication Error', message: 'No access for this Username and Password' },\n\t\tinput: { error: 'Input Error', message: 'Username and Password are required' },\n\t\tconnection: { error: 'Connection Error', message: 'Cant connect to Servers' },\n\t};\n\n\t// needs refracturing\n\tconst onSubmit = async (event) => {\n\t\tevent.preventDefault();\n\n\t\tif (!handle || !password) handleError(ERROR.input);\n\n\t\tif (handle && !password) return event.target.form.password.focus();\n\t\telse if (!handle && password) return event.target.form.handle.focus();\n\n\t\tconst options = (body) => ({\n\t\t\tmethod: 'POST',\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\tbody: JSON.stringify(body),\n\t\t});\n\n\t\tconst response = await fetch(Env.API.LOGIN, options({ handle, password }));\n\t\tconst json = await response.json();\n\n\t\tif (json.error) return handleError(ERROR.authentication);\n\t\telse context.auth.signIn(json.handle);\n\t};\n\n\tif (context.auth.authenticated) return <Redirect to=\"/\" />;\n\n\treturn (\n\t\t<form className=\"login__form\">\n\t\t\t<input\n\t\t\t\tclassName=\"login__handle\"\n\t\t\t\tplaceholder=\"handle\"\n\t\t\t\tname=\"handle\"\n\t\t\t\tautoFocus\n\t\t\t\tonChange={(event) => setValues(event)}\n\t\t\t/>\n\n\t\t\t<input\n\t\t\t\tclassName=\"login__password\"\n\t\t\t\tplaceholder=\"password\"\n\t\t\t\ttype=\"password\"\n\t\t\t\tname=\"password\"\n\t\t\t\tonChange={(event) => setValues(event)}\n\t\t\t\tvalue={password}\n\t\t\t/>\n\n\t\t\t<input className=\"login__submit\" type=\"submit\" value=\"âž¤\" onClick={(event) => onSubmit(event)} />\n\t\t</form>\n\t);\n};\n\nexport default LoginForm;\n","import React, { useState, useEffect } from 'react';\nimport '../sass/Login.scss';\n\n// components\nimport Messages from './Messages';\nimport Feedback from './Feedback';\nimport LoginForm from './LoginForm';\n\nconst Login = () => {\n\tconst [feedback, setFeedback] = useState('');\n\tconst [messageIndex, setMessageIndex] = useState(0);\n\tconst [messages, setMessages] = useState([\n\t\t{ handle: 'HackChat', message: 'Welcome to HackChat...', id: 'HackChat' },\n\t]);\n\n\tconst handleError = (error) => {\n\t\tsetMessages((messages) => [...messages, error]);\n\t};\n\n\tconst messageEffect = () => {\n\t\tconst message = MESSAGES[messageIndex].message;\n\t\tconst feedbackDelay = MESSAGES[messageIndex].feedbackDelay;\n\t\tconst responseDelay = MESSAGES[messageIndex].responseDelay;\n\n\t\t// defining the intervals\n\t\tlet feedbackInterval;\n\t\tlet responseInterval;\n\n\t\tfeedbackInterval = setTimeout(() => {\n\t\t\t// sending feedback\n\t\t\tsetFeedback('HackChat');\n\n\t\t\t// sending message\n\t\t\tresponseInterval = setTimeout(() => {\n\t\t\t\tsetMessages((messages) => [...messages, { message, handle: 'HackChat', id: 'HackChat' }]);\n\t\t\t\tsetFeedback('');\n\t\t\t}, responseDelay);\n\n\t\t\t// iterate to next message\n\t\t\tsetMessageIndex(messageIndex === MESSAGES.length - 1 ? 0 : messageIndex + 1);\n\t\t}, feedbackDelay);\n\n\t\treturn [feedbackInterval, responseInterval];\n\t};\n\n\tuseEffect(() => {\n\t\tconst [feedbackInterval, responseInterval] = messageEffect();\n\n\t\t// stopping the intervals\n\t\treturn () => {\n\t\t\tclearInterval(feedbackInterval);\n\t\t\tclearInterval(responseInterval);\n\t\t};\n\t});\n\n\treturn (\n\t\t<div className=\"login\">\n\t\t\t<h2>HackChat</h2>\n\t\t\t<Messages content={messages} />\n\t\t\t<Feedback feedback={feedback} />\n\t\t\t<LoginForm handleError={handleError} />\n\t\t</div>\n\t);\n};\n\nconst MESSAGES = [\n\t{\n\t\tmessage: `Type our credentials and access the features`,\n\t\tfeedbackDelay: 15000,\n\t\tresponseDelay: 3000,\n\t},\n\t{\n\t\tmessage: `You see those input felids?...\n\tType your username and password instead of waitingðŸ˜ƒ`,\n\t\tfeedbackDelay: 15000,\n\t\tresponseDelay: 3000,\n\t},\n\t{\n\t\tmessage: `What can you share and yet keep at the same time?ðŸ¤”`,\n\t\tfeedbackDelay: 15000,\n\t\tresponseDelay: 3000,\n\t},\n\t{\n\t\tmessage: `...A STD.ðŸ˜`,\n\t\tfeedbackDelay: 4000,\n\t\tresponseDelay: 2000,\n\t},\n];\n\nexport default Login;\n","export default (message) => {\n\tconst emojiCodes = Object.keys(emojis).map((target) => emojis[target].code);\n\tconst regex = new RegExp(`(\\\\${emojiCodes.join('|\\\\')})`, 'g');\n\n\treturn message.replace(regex, (str, match) => {\n\t\treturn emojis[match].icon;\n\t});\n};\n\nconst emojis = {\n\t// smileys\n\t':)': { code: ':\\\\)', icon: 'ðŸ™‚', category: 'smiley' },\n\t':D': { code: ':D', icon: 'ðŸ˜ƒ', category: 'smiley' },\n\txD: { code: 'xD', icon: 'ðŸ˜†', category: 'smiley' },\n\t':(': { code: ':\\\\(', icon: 'ðŸ™', category: 'smiley' },\n\t';(': { code: ';\\\\(', icon: 'ðŸ˜‰', category: 'smiley' },\n\t';I': { code: ';I', icon: 'ðŸ¤¨', category: 'smiley' },\n\t':I': { code: ':I', icon: 'ðŸ˜', category: 'smiley' },\n\t':o': { code: ':o', icon: 'ðŸ˜®', category: 'smiley' },\n\t':O': { code: ':O', icon: 'ðŸ˜±', category: 'smiley' },\n\t':L': { code: ':L', icon: 'ðŸ¤”', category: 'smiley' },\n\t':P': { code: ':P', icon: 'ðŸ˜›', category: 'smiley' },\n\t';P': { code: ';P', icon: 'ðŸ˜œ', category: 'smiley' },\n\txP: { code: 'xP', icon: 'ðŸ˜', category: 'smiley' },\n\t'x=': { code: 'x\\\\=', icon: 'ðŸ¤®', category: 'smiley' },\n\n\t// gestures\n\t'\\\\like': { code: '\\\\like', icon: 'ðŸ‘', category: 'gestures' },\n\t'\\\\dislike': { code: '\\\\dislike', icon: 'ðŸ‘Ž', category: 'gestures' },\n\t'\\\\fuck': { code: '\\\\fuck', icon: 'ðŸ–•', category: 'gestures' },\n\t'\\\\rock': { code: '\\\\rock', icon: 'ðŸ¤˜', category: 'gestures' },\n\n\t// objects\n\t'\\\\ghost': { code: '\\\\ghost', icon: 'ðŸ‘»', category: 'objects' },\n\t'\\\\alien': { code: '\\\\alien', icon: 'ðŸ‘½', category: 'objects' },\n\t'\\\\shit': { code: '\\\\shit', icon: 'ðŸ’©', category: 'objects' },\n\t'\\\\snowman': { code: '\\\\snowman', icon: 'â˜ƒï¸', category: 'objects' },\n\t'\\\\quack': { code: '\\\\quack', icon: 'ðŸ¦†', category: '...' }\n};\n\n// resource:: https://getemoji.com/\n\nexport { emojis };\n","import React from 'react';\nimport '../sass/EmojiSelector.scss';\n\n// scripts\nimport { emojis } from '../scripts/setEmojis';\n\n// apply category separation\nconst EmojiSelector = ({ appendEmoji }) => {\n\tconst emojiKeys = Object.keys(emojis);\n\n\treturn (\n\t\t<div className=\"message__emoji-view\">\n\t\t\t<div className=\"emoji-view__emoji-selector\">\n\t\t\t\t{emojiKeys.map((key) => (\n\t\t\t\t\t<div className=\"emoji-selector__emoji\" key={key} onClick={() => appendEmoji(emojis[key].icon)}>\n\t\t\t\t\t\t<span className=\"emoji__icon\">{emojis[key].icon}</span>\n\t\t\t\t\t\t<span className=\"emoji__code\">{key}</span>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default EmojiSelector;\n","import React, { useState, useContext } from 'react';\n\n// components\nimport EmojiSelector from './EmojiSelector';\n\n// context\nimport { AppContext } from './App';\n\n// scripts\nimport setEmojis from '../scripts/setEmojis';\n\nconst MessageForm = ({ showEmojis }) => {\n\tconst [message, setMessage] = useState('');\n\tconst context = useContext(AppContext);\n\n\tconst onSubmit = (event) => {\n\t\tevent.preventDefault();\n\t\tif (!message) return;\n\n\t\tconst transformedMessage = setEmojis(message);\n\t\tcontext.socket.emit('chat', {\n\t\t\tmessage: transformedMessage,\n\t\t\thandle: context.auth.handle,\n\t\t\tid: context.socket.id,\n\t\t});\n\t\tsetMessage('');\n\t};\n\n\tconst onTyping = (event) => {\n\t\tsetMessage(setEmojis(message));\n\t\tconst keyCode = window.event.keyCode;\n\n\t\tif (keyCode === 13 && event.shiftKey) setMessage(message);\n\t\telse if (keyCode === 13) return onSubmit(event);\n\t\tcontext.socket.emit('typing', context.auth.handle);\n\t};\n\n\tconst appendEmoji = (emoji) => {\n\t\tsetMessage((message) => message + emoji);\n\t};\n\n\treturn (\n\t\t<form className=\"chat-input\">\n\t\t\t<div className=\"chat-input__message\">\n\t\t\t\t<textarea\n\t\t\t\t\tclassName=\"chat-input__message\"\n\t\t\t\t\tplaceholder={`message... \\nshift + enter for newline`}\n\t\t\t\t\tname=\"message\"\n\t\t\t\t\tonChange={(event) => setMessage(event.target.value)}\n\t\t\t\t\tonKeyPress={(event) => onTyping(event)}\n\t\t\t\t\tvalue={message}\n\t\t\t\t\tautoFocus\n\t\t\t\t/>\n\t\t\t\t<input className=\"chat-input__submit\" type=\"submit\" value=\"send\" onClick={(event) => onSubmit(event)} />\n\t\t\t</div>\n\t\t\t{showEmojis && <EmojiSelector appendEmoji={appendEmoji} />}\n\t\t</form>\n\t);\n};\n\nexport default MessageForm;\n","import React from 'react';\nimport '../sass/MessageToolbar.scss';\n\n// components\nimport Feedback from './Feedback';\n\nconst MessageToolbar = ({ feedback, toggleEmojis }) => {\n\tconst expandToolbar = () => console.log('expand toolbar');\n\n\treturn (\n\t\t<div className=\"channel__message-toolbar\">\n\t\t\t<div className=\"message-toolbar__buttons\">\n\t\t\t\t<input onClick={() => expandToolbar()} value=\"...\" type=\"button\" />\n\t\t\t\t<input onClick={() => toggleEmojis()} value=\":)\" type=\"button\" />\n\t\t\t</div>\n\t\t\t<Feedback feedback={feedback} />\n\t\t</div>\n\t);\n};\n\nexport default MessageToolbar;\n","import React, { useState, useEffect, useContext } from 'react';\nimport '../sass/Channel.scss';\n\n// components\nimport MessageForm from './MessageForm';\nimport Messages from './Messages';\nimport MessageToolbar from './MessageToolbar';\n\n// context\nimport { AppContext } from './App';\n\nconst Channel = () => {\n\tconst [messages, setMessages] = useState([]);\n\tconst [feedback, setFeedback] = useState('');\n\tconst [showEmojis, setShowEmojis] = useState(false);\n\n\tconst context = useContext(AppContext);\n\n\tuseEffect(() => {\n\t\tcontext.socket.on('chat', (message) => setMessages((messages) => [...messages, message]));\n\t\treturn () => context.socket.off('chat', console.log('stopping chat'));\n\t}, [context.socket]);\n\n\tuseEffect(() => {\n\t\tcontext.socket.on('typing', (data) => {\n\t\t\tsetFeedback(data);\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetFeedback(undefined);\n\t\t\t}, 1000);\n\t\t});\n\t}, [context.socket]);\n\n\tconst toggleEmojis = () => setShowEmojis((state) => !state);\n\n\tif (!context.socket) return <h2>loading...</h2>;\n\n\treturn (\n\t\t<div className=\"channel\">\n\t\t\t<h2>main channel</h2>\n\t\t\t<Messages content={messages} socketId={context.socket.id} />\n\t\t\t<MessageToolbar feedback={feedback} toggleEmojis={toggleEmojis} />\n\t\t\t<MessageForm showEmojis={showEmojis} />\n\t\t</div>\n\t);\n};\n\nexport default Channel;\n","import React, { useContext } from 'react';\nimport '../sass/Preferences.scss';\n\n// context\nimport { AppContext } from './App';\n\nconst Preferences = () => (\n\t<div className=\"app__preferences\">\n\t\t<h2>preferences</h2>\n\t\t<ThemeSelector />\n\t</div>\n);\n\nconst ThemeSelector = () => {\n\tconst { config } = useContext(AppContext);\n\n\treturn (\n\t\t<div className=\"preferences__theme-selector\">\n\t\t\t<h3>theme selector</h3>\n\t\t\t<button onClick={() => config.handleTheme().dark()}>dark</button>\n\t\t\t<button onClick={() => config.handleTheme().light()}>light</button>\n\t\t\t<button onClick={() => config.handleTheme().system()}>system</button>\n\t\t</div>\n\t);\n};\n\nexport default Preferences;\n","import React from 'react';\n\n// libraries\nimport { Switch, Route, Redirect } from 'react-router-dom';\n\n// components\nimport Login from './Login';\nimport Channel from './Channel';\nimport Preferences from './Preferences';\n\nconst Routes = ({ authenticated }) => {\n\tconst authenticate = (component) => {\n\t\treturn authenticated ? component : <Redirect to=\"/login\" />;\n\t};\n\n\treturn (\n\t\t<Switch>\n\t\t\t<Route path=\"/login\" children={<Login />} />\n\t\t\t<Route exact path=\"/\" children={authenticate(<Channel />)} />\n\t\t\t<Route path=\"/preferences\" children={authenticate(<Preferences />)} />\n\t\t\t<Route path=\"*\" children={authenticate(<h2>error</h2>)} />\n\t\t</Switch>\n\t);\n};\n\nexport default Routes;\n","import React, { useState, createContext } from 'react';\nimport '../sass/App.scss';\n\n// libraries\nimport io from 'socket.io-client';\nimport { BrowserRouter as Router } from 'react-router-dom';\n\n// components\nimport Navigation from './Navigation';\nimport Routes from './Routes';\n\n// scripts\nimport env from '../scripts/environment';\n\nconst App = () => {\n\tconst [authenticated, setAuthentication] = useState(false);\n\tconst [handle, setHandle] = useState('');\n\tconst [menu, setMenu] = useState(false);\n\tconst [socket, setSocket] = useState(null);\n\tconst [history, setHistory] = useState([]);\n\tconst [theme, setTheme] = useState({ palette: 'dark', name: 'user-dark' });\n\n\tconst systemTheme = () => {\n\t\tif (window.matchMedia) {\n\t\t\tif (window.matchMedia('(prefers-color-scheme: dark)').matches) {\n\t\t\t\treturn { palette: 'dark', name: 'system-dark' };\n\t\t\t} else return { palette: 'light', name: 'system-light' };\n\t\t} else return theme;\n\t};\n\n\tconst handleTheme = () => ({\n\t\tdark: () => setTheme({ palette: 'dark', name: 'user-dark' }),\n\t\tlight: () => setTheme({ palette: 'light', name: 'user-light' }),\n\t\tsystem: () => setTheme(systemTheme())\n\t});\n\n\tconst signIn = (handle) => {\n\t\tsetSocket(\n\t\t\tio(env.SOCKET_HOST, {\n\t\t\t\tquery: { handle }\n\t\t\t})\n\t\t);\n\t\tsetHandle(handle);\n\t\tsetAuthentication(true);\n\t};\n\n\tconst signOut = () => {\n\t\tsetSocket((socket) => socket.disconnect());\n\t\tsetMenu(false);\n\t\tsetHandle(null);\n\t\tsetAuthentication(false);\n\t};\n\n\tconst showMenu = () => setMenu(true);\n\tconst hideMenu = () => setMenu(false);\n\n\tconst addToHistory = (route) => {\n\t\tsetHistory((history) => [...history, route]);\n\t};\n\n\tconst getPreviousRoute = () => {\n\t\treturn history.pop();\n\t};\n\n\tconst appContext = {\n\t\tauth: { authenticated, signIn, signOut, handle },\n\t\tconfig: { theme, handleTheme, menu, showMenu, hideMenu },\n\t\tlocation: { history, addToHistory, getPreviousRoute },\n\t\tuser: { handle },\n\t\tsocket\n\t};\n\n\treturn (\n\t\t<AppContext.Provider value={appContext}>\n\t\t\t<div className={`app theme-${theme.palette}`}>\n\t\t\t\t<Router>\n\t\t\t\t\t<Navigation />\n\t\t\t\t\t<Routes authenticated={authenticated} />\n\t\t\t\t</Router>\n\t\t\t</div>\n\t\t</AppContext.Provider>\n\t);\n};\n\n// context\nexport const AppContext = createContext();\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './sass/index.scss';\nimport App from './components/App';\nimport * as serviceWorker from './scripts/serviceWorker';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}