{"version":3,"sources":["components/Menu.js","components/Navigation.js","components/Messages.js","components/Feedback.js","scripts/environment.js","components/LoginForm.js","components/Login.js","scripts/setEmojis.js","components/EmojiSelector.js","components/MessageForm.js","components/MessageToolbar.js","components/Channel.js","components/Preferences.js","components/Routes.js","components/App.js","components/Root.js","scripts/serviceWorker.js","index.js"],"names":["LinkLabel","title","icon","className","src","alt","Menu","context","useContext","AppContext","useCookies","removeCookie","onClick","config","hideMenu","to","pathname","state","authenticated","undefined","BackBtn","redirectBack","width","height","viewBox","fill","xmlns","x1","y1","x2","y2","stroke","strokeWidth","strokeLinecap","transform","MenuBtn","showMenu","Navigation","useLocation","menu","console","log","Received","handle","message","Forwarded","Error","error","Messages","content","socketId","messagesEndRef","useRef","previousHandle","messages","map","index","id","showLabel","key","useEffect","current","scrollIntoView","behavior","ref","Feedback","feedback","HOST","SOCKET_HOST","API","LOGIN","LoginForm","handleError","cookies","setCookie","useState","setAuthenticated","password","setPassword","setHandle","setValues","event","target","name","value","ERROR","onSubmit","a","preventDefault","form","focus","options","body","method","headers","JSON","stringify","fetch","Env","response","json","path","maxAge","placeholder","autoFocus","onChange","type","MESSAGES","feedbackDelay","responseDelay","Login","setFeedback","messageIndex","setMessageIndex","setMessages","responseInterval","setTimeout","length","messageEffect","feedbackInterval","clearInterval","emojiCodes","Object","keys","emojis","code","regex","RegExp","join","replace","str","match","category","xD","xP","EmojiSelector","appendEmoji","emojiKeys","MessageForm","showEmojis","setMessage","transformedMessage","setEmojis","socket","emit","onKeyPress","keyCode","window","shiftKey","onTyping","emoji","MessageToolbar","toggleEmojis","Channel","setShowEmojis","on","off","data","ThemeSelector","setTheme","Preferences","Routes","authenticate","component","children","exact","createContext","App","setMenu","setSocket","disconnect","io","env","query","appContext","setSystemTheme","matchMedia","matches","setDefaultTheme","Provider","theme","Root","CookiesProvider","isLocalhost","Boolean","location","hostname","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","ReactDOM","render","StrictMode","document","getElementById","URL","process","href","origin","addEventListener","contentType","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.cb0526c4.chunk.js","sourcesContent":["import React, { useContext } from 'react';\nimport '../sass/Menu.scss';\n\n// libraries\nimport { Link } from 'react-router-dom';\nimport { useCookies } from 'react-cookie';\n\n// context\nimport { AppContext } from './App';\n\nconst Menu = () => {\n\tconst context = useContext(AppContext);\n\n\tconst [, , removeCookie] = useCookies(['authenticated']);\n\n\tconst signOut = () => {\n\t\tremoveCookie('authenticated');\n\t};\n\n\treturn (\n\t\t<div className=\"navigation__menu\">\n\t\t\t<div className=\"menu__navigation\">\n\t\t\t\t<button onClick={() => context.config.hideMenu()}>Hide</button>\n\t\t\t</div>\n\n\t\t\t<h2>menu</h2>\n\t\t\t<div className=\"menu__links\">\n\t\t\t\t<Link to={{ pathname: '/', state: { authenticated: true } }} onClick={() => context.config.hideMenu()}>\n\t\t\t\t\t<LinkLabel title=\"Chat\" icon={undefined} />\n\t\t\t\t</Link>\n\t\t\t\t<Link to={'/preferences'} onClick={() => context.config.hideMenu()}>\n\t\t\t\t\t<LinkLabel title=\"Preferences\" icon={undefined} />\n\t\t\t\t</Link>\n\t\t\t\t<Link to={'/login'} onClick={() => signOut()}>\n\t\t\t\t\t<LinkLabel title=\"Sign out\" icon={undefined} />\n\t\t\t\t</Link>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nconst LinkLabel = ({ title, icon }) => (\n\t<div className=\"menu__link\">\n\t\t<label>{title}</label>\n\t\t<img src={icon} alt={`${title} icon`} />\n\t</div>\n);\n\nexport default Menu;\n","import React, { useContext } from 'react';\nimport '../sass/Navigation.scss';\n\n// libraries\nimport { useLocation } from 'react-router-dom';\n\n//components\nimport Menu from './Menu';\n\n// context\nimport { AppContext } from './App';\n\nconst Navigation = () => {\n\tconst context = useContext(AppContext);\n\n\tif (useLocation().pathname === '/login') {\n\t\treturn <div className=\"app__navigation\" />;\n\t}\n\n\tconst redirectBack = () => console.log('redirect back');\n\n\tif (context.config.menu) return <Menu />;\n\n\treturn (\n\t\t<div className=\"app__navigation\">\n\t\t\t<BackBtn redirectBack={redirectBack} />\n\t\t\t<MenuBtn showMenu={() => context.config.showMenu()} />\n\t\t</div>\n\t);\n};\n\nconst BackBtn = ({ redirectBack }) => (\n\t<svg\n\t\twidth=\"20\"\n\t\theight=\"20\"\n\t\tviewBox=\"0 0 260 260\"\n\t\tfill=\"none\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\tonClick={() => redirectBack()}\n\t>\n\t\t<line x1=\"139\" y1=\"129.787\" x2=\"227.787\" y2=\"41\" stroke=\"#D7E0E9\" strokeWidth=\"30\" strokeLinecap=\"round\" />\n\t\t<line x1=\"29\" y1=\"129.787\" x2=\"117.787\" y2=\"41\" stroke=\"#D7E0E9\" strokeWidth=\"30\" strokeLinecap=\"round\" />\n\t\t<line\n\t\t\tx1=\"15\"\n\t\t\ty1=\"-15\"\n\t\t\tx2=\"140.563\"\n\t\t\ty2=\"-15\"\n\t\t\ttransform=\"matrix(0.707107 0.707107 0.707107 -0.707107 139 110)\"\n\t\t\tstroke=\"#D7E0E9\"\n\t\t\tstrokeWidth=\"30\"\n\t\t\tstrokeLinecap=\"round\"\n\t\t/>\n\t\t<line\n\t\t\tx1=\"15\"\n\t\t\ty1=\"-15\"\n\t\t\tx2=\"140.563\"\n\t\t\ty2=\"-15\"\n\t\t\ttransform=\"matrix(0.707107 0.707107 0.707107 -0.707107 29 110)\"\n\t\t\tstroke=\"#D7E0E9\"\n\t\t\tstrokeWidth=\"30\"\n\t\t\tstrokeLinecap=\"round\"\n\t\t/>\n\t</svg>\n);\n\nconst MenuBtn = ({ showMenu }) => (\n\t<svg\n\t\twidth=\"20\"\n\t\theight=\"20\"\n\t\tviewBox=\"0 0 260 260\"\n\t\tfill=\"none\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\tonClick={() => showMenu()}\n\t>\n\t\t<line x1=\"20\" y1=\"85\" x2=\"240\" y2=\"85\" stroke=\"#D7E0E9\" strokeWidth=\"30\" strokeLinecap=\"round\" />\n\t\t<line x1=\"70\" y1=\"185\" x2=\"240\" y2=\"185\" stroke=\"#D7E0E9\" strokeWidth=\"30\" strokeLinecap=\"round\" />\n\t</svg>\n);\n\nexport default Navigation;\n","import React, { useEffect, useRef } from 'react';\nimport '../sass/Messages.scss';\n\nconst Messages = ({ content, socketId }) => {\n\tconst messagesEndRef = useRef(null);\n\n\tlet previousHandle = '';\n\n\tconst messages = content.map(({ handle, message, id, error }, index) => {\n\t\tconst showLabel = !(handle === previousHandle || error === previousHandle);\n\t\tpreviousHandle = error || handle;\n\n\t\tif (error) return <Error key={index} message={message} error={showLabel ? error : undefined} />;\n\t\tif (socketId === id) return <Forwarded key={index} message={message} />;\n\t\telse return <Received key={index} handle={showLabel ? handle : undefined} message={message} />;\n\t});\n\n\tuseEffect(() => {\n\t\tmessagesEndRef.current.scrollIntoView({ behavior: 'smooth' });\n\t}, [content]);\n\n\treturn (\n\t\t<div className=\"chat-window\">\n\t\t\t<div className=\"chat-window__output\">{messages}</div>\n\t\t\t<div ref={messagesEndRef} />\n\t\t</div>\n\t);\n};\n\nconst Received = ({ handle, message }) => (\n\t<div className=\"output__message received-message\">\n\t\t{handle && <h2>{handle}</h2>}\n\t\t<pre>{message}</pre>\n\t</div>\n);\n\nconst Forwarded = ({ message }) => (\n\t<div className=\"output__message forwarded-message\">\n\t\t<pre>{message}</pre>\n\t</div>\n);\n\nconst Error = ({ error, message }) => (\n\t<div className=\"output__message error-message\">\n\t\t{error && <h2>{error}</h2>}\n\t\t<pre>{message}</pre>\n\t</div>\n);\n\nexport default Messages;\n","import React from 'react';\nimport '../sass/Feedback.scss';\n\nconst Feedback = ({ feedback }) => {\n\tif (feedback) return <span className=\"message-toolbar__feedback\">{feedback} is typing a message...</span>;\n\telse return <span className=\"message-toolbar__feedback\"></span>;\n};\n\nexport default Feedback;\n","//const HOST = 'http://localhost:4000';\nconst HOST = 'https://enigmatic-springs-29801.herokuapp.com/';\n\nexport default { SOCKET_HOST: HOST, API: { LOGIN: `${HOST}/authenticate` } };\n","import React, { useState } from 'react';\n\n// libraries\nimport { Redirect } from 'react-router-dom';\nimport { useCookies } from 'react-cookie';\n\n// scripts\nimport Env from '../scripts/environment';\n\nconst LoginForm = ({ handleError }) => {\n\tconst [cookies, setCookie] = useCookies(['handle', 'authenticated']);\n\tconst [authenticated, setAuthenticated] = useState(false);\n\tconst [password, setPassword] = useState('');\n\tconst [handle, setHandle] = useState(cookies.handle || '');\n\n\tconst setValues = (event) => {\n\t\tif (event.target.name === 'handle') setHandle(event.target.value);\n\t\telse if (event.target.name === 'password') setPassword(event.target.value);\n\t};\n\n\tconst ERROR = {\n\t\tauthentication: { error: 'Authentication Error', message: 'No access for this Username and Password' },\n\t\tinput: { error: 'Input Error', message: 'Username and Password are required' },\n\t\tconnection: { error: 'Connection Error', message: 'Cant connect to Servers' },\n\t};\n\n\t// needs refracturing\n\tconst onSubmit = async (event) => {\n\t\tevent.preventDefault();\n\n\t\tif (!handle || !password) handleError(ERROR.input);\n\n\t\tif (handle && !password) return event.target.form.password.focus();\n\t\telse if (!handle && password) return event.target.form.handle.focus();\n\n\t\tconst options = (body) => ({\n\t\t\tmethod: 'POST',\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\tbody: JSON.stringify(body),\n\t\t});\n\n\t\tconst response = await fetch(Env.API.LOGIN, options({ handle, password }));\n\t\tconst json = await response.json();\n\n\t\tif (json.error) return handleError(ERROR.authentication);\n\t\telse {\n\t\t\tsetCookie('handle', handle, { path: '/', maxAge: 2592000 }); // expires in 30 days\n\t\t\tsetCookie('authenticated', true, { path: '/', maxAge: 1296000 }); // expires in 15 days\n\t\t\tsetAuthenticated(true);\n\t\t}\n\t};\n\n\tif (authenticated) {\n\t\treturn <Redirect to=\"/\" />;\n\t}\n\n\treturn (\n\t\t<form className=\"login__form\">\n\t\t\t<input\n\t\t\t\tclassName=\"login__handle\"\n\t\t\t\tplaceholder=\"handle\"\n\t\t\t\tname=\"handle\"\n\t\t\t\tautoFocus\n\t\t\t\tonChange={(event) => setValues(event)}\n\t\t\t\tvalue={handle}\n\t\t\t/>\n\n\t\t\t<input\n\t\t\t\tclassName=\"login__password\"\n\t\t\t\tplaceholder=\"password\"\n\t\t\t\ttype=\"password\"\n\t\t\t\tname=\"password\"\n\t\t\t\tonChange={(event) => setValues(event)}\n\t\t\t\tvalue={password}\n\t\t\t/>\n\n\t\t\t<input className=\"login__submit\" type=\"submit\" value=\"âž¤\" onClick={(event) => onSubmit(event)} />\n\t\t</form>\n\t);\n};\n\nexport default LoginForm;\n","import React, { useState, useEffect } from 'react';\nimport '../sass/Login.scss';\n\n// components\nimport Messages from './Messages';\nimport Feedback from './Feedback';\nimport LoginForm from './LoginForm';\n\nconst Login = () => {\n\tconst [feedback, setFeedback] = useState('');\n\tconst [messageIndex, setMessageIndex] = useState(0);\n\tconst [messages, setMessages] = useState([\n\t\t{ handle: 'HackChat', message: 'Welcome to HackChat...', id: 'HackChat' },\n\t]);\n\n\tconst handleError = (error) => {\n\t\tsetMessages((messages) => [...messages, error]);\n\t};\n\n\tconst messageEffect = () => {\n\t\tconst message = MESSAGES[messageIndex].message;\n\t\tconst feedbackDelay = MESSAGES[messageIndex].feedbackDelay;\n\t\tconst responseDelay = MESSAGES[messageIndex].responseDelay;\n\n\t\t// defining the intervals\n\t\tlet feedbackInterval;\n\t\tlet responseInterval;\n\n\t\tfeedbackInterval = setTimeout(() => {\n\t\t\t// sending feedback\n\t\t\tsetFeedback('HackChat');\n\n\t\t\t// sending message\n\t\t\tresponseInterval = setTimeout(() => {\n\t\t\t\tsetMessages((messages) => [...messages, { message, handle: 'HackChat', id: 'HackChat' }]);\n\t\t\t\tsetFeedback('');\n\t\t\t}, responseDelay);\n\n\t\t\t// iterate to next message\n\t\t\tsetMessageIndex(messageIndex === MESSAGES.length - 1 ? 0 : messageIndex + 1);\n\t\t}, feedbackDelay);\n\n\t\treturn [feedbackInterval, responseInterval];\n\t};\n\n\tuseEffect(() => {\n\t\tconst [feedbackInterval, responseInterval] = messageEffect();\n\n\t\t// stopping the intervals\n\t\treturn () => {\n\t\t\tclearInterval(feedbackInterval);\n\t\t\tclearInterval(responseInterval);\n\t\t};\n\t});\n\n\treturn (\n\t\t<div className=\"login\">\n\t\t\t<h2>HackChat</h2>\n\t\t\t<Messages content={messages} />\n\t\t\t<Feedback feedback={feedback} />\n\t\t\t<LoginForm handleError={handleError} />\n\t\t</div>\n\t);\n};\n\nconst MESSAGES = [\n\t{\n\t\tmessage: `Type our credentials and access the features`,\n\t\tfeedbackDelay: 15000,\n\t\tresponseDelay: 3000,\n\t},\n\t{\n\t\tmessage: `You see those input felids?...\n\tType your username and password instead of waitingðŸ˜ƒ`,\n\t\tfeedbackDelay: 15000,\n\t\tresponseDelay: 3000,\n\t},\n\t{\n\t\tmessage: `What can you share and yet keep at the same time?ðŸ¤”`,\n\t\tfeedbackDelay: 15000,\n\t\tresponseDelay: 3000,\n\t},\n\t{\n\t\tmessage: `...A STD.ðŸ˜`,\n\t\tfeedbackDelay: 4000,\n\t\tresponseDelay: 2000,\n\t},\n];\n\nexport default Login;\n","export default (message) => {\n\tconst emojiCodes = Object.keys(emojis).map((target) => emojis[target].code);\n\tconst regex = new RegExp(`(\\\\${emojiCodes.join('|\\\\')})`, 'g');\n\n\treturn message.replace(regex, (str, match) => {\n\t\treturn emojis[match].icon;\n\t});\n};\n\nconst emojis = {\n\t// smileys\n\t':)': { code: ':\\\\)', icon: 'ðŸ™‚', category: 'smiley' },\n\t':D': { code: ':D', icon: 'ðŸ˜ƒ', category: 'smiley' },\n\txD: { code: 'xD', icon: 'ðŸ˜†', category: 'smiley' },\n\t':(': { code: ':\\\\(', icon: 'ðŸ™', category: 'smiley' },\n\t';(': { code: ';\\\\(', icon: 'ðŸ˜‰', category: 'smiley' },\n\t';I': { code: ';I', icon: 'ðŸ¤¨', category: 'smiley' },\n\t':I': { code: ':I', icon: 'ðŸ˜', category: 'smiley' },\n\t':o': { code: ':o', icon: 'ðŸ˜®', category: 'smiley' },\n\t':O': { code: ':O', icon: 'ðŸ˜±', category: 'smiley' },\n\t':L': { code: ':L', icon: 'ðŸ¤”', category: 'smiley' },\n\t':P': { code: ':P', icon: 'ðŸ˜›', category: 'smiley' },\n\t';P': { code: ';P', icon: 'ðŸ˜œ', category: 'smiley' },\n\txP: { code: 'xP', icon: 'ðŸ˜', category: 'smiley' },\n\t'x=': { code: 'x\\\\=', icon: 'ðŸ¤®', category: 'smiley' },\n\n\t// gestures\n\t'\\\\like': { code: '\\\\like', icon: 'ðŸ‘', category: 'gestures' },\n\t'\\\\dislike': { code: '\\\\dislike', icon: 'ðŸ‘Ž', category: 'gestures' },\n\t'\\\\fuck': { code: '\\\\fuck', icon: 'ðŸ–•', category: 'gestures' },\n\t'\\\\rock': { code: '\\\\rock', icon: 'ðŸ¤˜', category: 'gestures' },\n\n\t// objects\n\t'\\\\ghost': { code: '\\\\ghost', icon: 'ðŸ‘»', category: 'objects' },\n\t'\\\\alien': { code: '\\\\alien', icon: 'ðŸ‘½', category: 'objects' },\n\t'\\\\shit': { code: '\\\\shit', icon: 'ðŸ’©', category: 'objects' },\n\t'\\\\snowman': { code: '\\\\snowman', icon: 'â˜ƒï¸', category: 'objects' },\n\t'\\\\quack': { code: '\\\\quack', icon: 'ðŸ¦†', category: '...' }\n};\n\n// resource:: https://getemoji.com/\n\nexport { emojis };\n","import React from 'react';\nimport '../sass/EmojiSelector.scss';\n\n// scripts\nimport { emojis } from '../scripts/setEmojis';\n\n// apply category separation\nconst EmojiSelector = ({ appendEmoji }) => {\n\tconst emojiKeys = Object.keys(emojis);\n\n\treturn (\n\t\t<div className=\"message__emoji-view\">\n\t\t\t<div className=\"emoji-view__emoji-selector\">\n\t\t\t\t{emojiKeys.map((key) => (\n\t\t\t\t\t<div className=\"emoji-selector__emoji\" key={key} onClick={() => appendEmoji(emojis[key].icon)}>\n\t\t\t\t\t\t<span className=\"emoji__icon\">{emojis[key].icon}</span>\n\t\t\t\t\t\t<span className=\"emoji__code\">{key}</span>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default EmojiSelector;\n","import React, { useState, useContext } from 'react';\n\n// libraries\nimport { useCookies } from 'react-cookie';\n\n// components\nimport EmojiSelector from './EmojiSelector';\n\n// context\nimport { AppContext } from './App';\n\n// scripts\nimport setEmojis from '../scripts/setEmojis';\n\nconst MessageForm = ({ showEmojis }) => {\n\tconst [message, setMessage] = useState('');\n\tconst context = useContext(AppContext);\n\tconst [cookies] = useCookies(['handle']);\n\n\tconst onSubmit = (event) => {\n\t\tevent.preventDefault();\n\t\tif (!message) return;\n\n\t\tconst transformedMessage = setEmojis(message);\n\t\tcontext.socket.emit('chat', {\n\t\t\tmessage: transformedMessage,\n\t\t\thandle: cookies.handle,\n\t\t\tid: context.socket.id,\n\t\t});\n\t\tsetMessage('');\n\t};\n\n\tconst onTyping = (event) => {\n\t\tsetMessage(setEmojis(message));\n\t\tconst keyCode = window.event.keyCode;\n\n\t\tif (keyCode === 13 && event.shiftKey) setMessage(message);\n\t\telse if (keyCode === 13) return onSubmit(event);\n\t\tcontext.socket.emit('typing', cookies.handle);\n\t};\n\n\tconst appendEmoji = (emoji) => {\n\t\tsetMessage((message) => message + emoji);\n\t};\n\n\treturn (\n\t\t<form className=\"chat-input\">\n\t\t\t<div className=\"chat-input__message\">\n\t\t\t\t<textarea\n\t\t\t\t\tclassName=\"chat-input__message\"\n\t\t\t\t\tplaceholder={`message... \\nshift + enter for newline`}\n\t\t\t\t\tname=\"message\"\n\t\t\t\t\tonChange={(event) => setMessage(event.target.value)}\n\t\t\t\t\tonKeyPress={(event) => onTyping(event)}\n\t\t\t\t\tvalue={message}\n\t\t\t\t\tautoFocus\n\t\t\t\t/>\n\t\t\t\t<input className=\"chat-input__submit\" type=\"submit\" value=\"send\" onClick={(event) => onSubmit(event)} />\n\t\t\t</div>\n\t\t\t{showEmojis && <EmojiSelector appendEmoji={appendEmoji} />}\n\t\t</form>\n\t);\n};\n\nexport default MessageForm;\n","import React from 'react';\nimport '../sass/MessageToolbar.scss';\n\n// components\nimport Feedback from './Feedback';\n\nconst MessageToolbar = ({ feedback, toggleEmojis }) => {\n\tconst expandToolbar = () => console.log('expand toolbar');\n\n\treturn (\n\t\t<div className=\"channel__message-toolbar\">\n\t\t\t<div className=\"message-toolbar__buttons\">\n\t\t\t\t<input onClick={() => expandToolbar()} value=\"...\" type=\"button\" />\n\t\t\t\t<input onClick={() => toggleEmojis()} value=\":)\" type=\"button\" />\n\t\t\t</div>\n\t\t\t<Feedback feedback={feedback} />\n\t\t</div>\n\t);\n};\n\nexport default MessageToolbar;\n","import React, { useState, useEffect, useContext } from 'react';\nimport '../sass/Channel.scss';\n\n// components\nimport MessageForm from './MessageForm';\nimport Messages from './Messages';\nimport MessageToolbar from './MessageToolbar';\n\n// context\nimport { AppContext } from './App';\n\nconst Channel = () => {\n\tconst [messages, setMessages] = useState([]);\n\tconst [feedback, setFeedback] = useState('');\n\tconst [showEmojis, setShowEmojis] = useState(false);\n\n\tconst context = useContext(AppContext);\n\n\tuseEffect(() => {\n\t\tcontext.socket.on('chat', (message) => setMessages((messages) => [...messages, message]));\n\t\treturn () => context.socket.off('chat', console.log('stopping chat'));\n\t}, [context.socket]);\n\n\tuseEffect(() => {\n\t\tcontext.socket.on('typing', (data) => {\n\t\t\tsetFeedback(data);\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetFeedback(undefined);\n\t\t\t}, 1000);\n\t\t});\n\t}, [context.socket]);\n\n\tconst toggleEmojis = () => setShowEmojis((state) => !state);\n\n\tif (!context.socket) return <h2>loading...</h2>;\n\n\treturn (\n\t\t<div className=\"channel\">\n\t\t\t<h2>main channel</h2>\n\t\t\t<Messages content={messages} socketId={context.socket.id} />\n\t\t\t<MessageToolbar feedback={feedback} toggleEmojis={toggleEmojis} />\n\t\t\t<MessageForm showEmojis={showEmojis} />\n\t\t</div>\n\t);\n};\n\nexport default Channel;\n","import React from 'react';\nimport '../sass/Preferences.scss';\n\n// libraries\nimport { useCookies } from 'react-cookie';\n\nconst Preferences = () => (\n\t<div className=\"app__preferences\">\n\t\t<h2>preferences</h2>\n\t\t<ThemeSelector />\n\t</div>\n);\n\nconst ThemeSelector = () => {\n\tconst [, setCookie] = useCookies(['theme']);\n\n\tconst setTheme = {\n\t\tdark: () => setCookie('theme', 'dark', { path: '/', maxAge: 3600 }),\n\t\tlight: () => setCookie('theme', 'light', { path: '/', maxAge: 3600 }),\n\t\tsystem: () => setCookie('theme', 'system', { path: '/', maxAge: 3600 }),\n\t};\n\n\treturn (\n\t\t<div className=\"preferences__theme-selector\">\n\t\t\t<h3>theme selector</h3>\n\t\t\t<button onClick={() => setTheme.dark()}>dark</button>\n\t\t\t<button onClick={() => setTheme.light()}>light</button>\n\t\t\t<button onClick={() => setTheme.system()}>system</button>\n\t\t</div>\n\t);\n};\n\nexport default Preferences;\n","import React from 'react';\n\n// libraries\nimport { useCookies } from 'react-cookie';\nimport { Switch, Route, Redirect } from 'react-router-dom';\n\n// components\nimport Login from './Login';\nimport Channel from './Channel';\nimport Preferences from './Preferences';\n\nconst Routes = () => {\n\tconst [cookies] = useCookies(['authenticated']);\n\n\tconst authenticate = (component) => {\n\t\tif (cookies.authenticated === 'true') {\n\t\t\treturn component;\n\t\t} else return <Redirect to=\"/login\" />;\n\t};\n\n\treturn (\n\t\t<Switch>\n\t\t\t<Route path=\"/login\" children={<Login />} />\n\t\t\t<Route exact path=\"/\" children={authenticate(<Channel />)} />\n\t\t\t<Route path=\"/preferences\" children={authenticate(<Preferences />)} />\n\t\t\t<Route path=\"*\" children={authenticate(<h2>error</h2>)} />\n\t\t</Switch>\n\t);\n};\n\nexport default Routes;\n","import React, { useState, useEffect, createContext } from 'react';\nimport '../sass/App.scss';\n\n// libraries\nimport io from 'socket.io-client';\nimport { useCookies } from 'react-cookie';\nimport { BrowserRouter as Router } from 'react-router-dom';\n\n// components\nimport Navigation from './Navigation';\nimport Routes from './Routes';\n\n// scripts\nimport env from '../scripts/environment';\n\nconst App = () => {\n\tconst [menu, setMenu] = useState(false);\n\tconst [socket, setSocket] = useState(null);\n\tconst [cookies, setCookie] = useCookies(['handle', 'authenticated', 'io', 'theme']);\n\n\tconst initializeSocket = () => {\n\t\tsetSocket(\n\t\t\tio(env.SOCKET_HOST, {\n\t\t\t\tquery: { handle: cookies.handle },\n\t\t\t})\n\t\t);\n\t};\n\n\tuseEffect(() => {\n\t\tif (cookies.authenticated) setCookie('io', socket.id, { path: '/', maxAge: 3600 });\n\t}, [socket]);\n\n\tconst initializeApplication = () => {\n\t\tsetSocket((socket) => socket.disconnect() && null);\n\t\tsetMenu(false);\n\t};\n\n\tif (cookies.authenticated === 'true' && !socket) {\n\t\tinitializeSocket();\n\t} else if (cookies.authenticated === 'false' && socket) {\n\t\tinitializeApplication();\n\t}\n\n\tconst showMenu = () => setMenu(true);\n\tconst hideMenu = () => setMenu(false);\n\n\tconst appContext = {\n\t\tconfig: { menu, showMenu, hideMenu },\n\t\tsocket,\n\t};\n\n\t// <THEME SECTION>\n\tconst getTheme = () => {\n\t\tif (cookies.theme === 'system') return setSystemTheme();\n\t\telse return cookies.theme || setDefaultTheme();\n\t};\n\n\tconst setSystemTheme = () => {\n\t\tif (window.matchMedia) {\n\t\t\tif (window.matchMedia('(prefers-color-scheme: dark)').matches) {\n\t\t\t\treturn 'dark';\n\t\t\t} else return 'light';\n\t\t}\n\t};\n\n\tconst setDefaultTheme = () => {\n\t\tsetCookie('theme', 'dark', { path: '/', maxAge: 2592000 }); // expires in 30 days\n\t\treturn 'dark';\n\t};\n\t// </ THEME SECTION>\n\n\treturn (\n\t\t<AppContext.Provider value={appContext}>\n\t\t\t<div className={`app theme-${getTheme()}`}>\n\t\t\t\t<Router>\n\t\t\t\t\t<Navigation />\n\t\t\t\t\t<Routes />\n\t\t\t\t</Router>\n\t\t\t</div>\n\t\t</AppContext.Provider>\n\t);\n};\n\n// context\nexport const AppContext = createContext();\nexport default App;\n","import React from 'react';\n\n// libraries\nimport { CookiesProvider } from 'react-cookie';\n\n// components\nimport App from './App';\n\nconst Root = () => (\n\t<CookiesProvider>\n\t\t<App />\n\t</CookiesProvider>\n);\n\nexport default Root;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './sass/index.scss';\nimport Root from './components/Root';\nimport * as serviceWorker from './scripts/serviceWorker';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<Root />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}